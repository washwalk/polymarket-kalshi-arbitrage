(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3042:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=l(6035)},3314:(e,t,l)=>{Promise.resolve().then(l.bind(l,7307))},3625:(e,t,l)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),l(4568),l(7509),l(3042),l(1271)},5575:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=l(4931)._(l(7007));function a(e,t){var l;let a={};"function"==typeof e&&(a.loader=e);let n={...a,...t};return(0,r.default)({...n,modules:null==(l=n.loadableGenerated)?void 0:l.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6035:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,l(9113).createAsyncLocalStorage)()},6452:(e,t,l)=>{"use strict";function r(e){let{reason:t,children:l}=e;return l}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),l(9800)},7007:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=l(4568),a=l(7620),n=l(6452);function i(e){return{default:e&&"default"in e?e.default:e}}l(3625);let s={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let t={...s,...e},l=(0,a.lazy)(()=>t.loader().then(i)),o=t.loading;function u(e){let i=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,u=s?a.Suspense:a.Fragment,d=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(l,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(l,{...e})});return(0,r.jsx)(u,{...s?{fallback:i}:{},children:d})}return u.displayName="LoadableComponent",u}},7307:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>b});var r=l(4568),a=l(7620);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=Array.from({length:e},()=>Array(e).fill(0)),a=e/2;for(let n=0;n<e;n++)for(let i=0;i<e;i++){let e=Math.abs(i-(a-l/2))<t,s=Math.abs(i-(a+l/2))<t;r[n][i]=e||s?1:0}return r}function i(e){let t=Array.from({length:e},()=>Array(e).fill(0)),l=e/2,r=e/2,a=e/3;for(let n=0;n<e;n++)for(let i=0;i<e;i++){let e=i-l,s=n-r;e*e+s*s<=a*a&&(t[n][i]=1)}let n=a/5,i=a/2;for(let a=0;a<e;a++)for(let s=0;s<e;s++){let e=s-(l-i),o=a-(r-i);e*e+o*o<=n*n&&(t[a][s]=0)}for(let a=0;a<e;a++)for(let s=0;s<e;s++){let e=s-(l+i),o=a-(r-i);e*e+o*o<=n*n&&(t[a][s]=0)}let s=r+a/2;for(let r=0;r<e;r++)for(let n=0;n<e;n++)r>s-2&&r<s+2&&n>l-a/2&&n<l+a/2&&(t[r][n]=0);return t}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,l=Array.from({length:e},()=>Array(e).fill(0)),r=e/2;for(let a=0;a<e;a++)for(let n=0;n<e;n++)Math.abs(n-r)<t/2&&(l[a][n]=1);return l}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e/4,l=Array.from({length:e},()=>Array(e).fill(0)),r=e/2,a=e/2;for(let n=0;n<e;n++)for(let i=0;i<e;i++){let e=i-r,s=n-a;e*e+s*s<=t*t&&(l[n][i]=1)}return l}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e/2,l=Array.from({length:e},()=>Array(e).fill(0)),r=e/2,a=e/2,n=t/2;for(let t=0;t<e;t++)for(let i=0;i<e;i++)Math.abs(i-r)<n&&Math.abs(t-a)<n&&(l[t][i]=1);return l}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e/2,l=Array.from({length:e},()=>Array(e).fill(0)),r=e/2,a=e/2;for(let n=0;n<e;n++)for(let i=0;i<e;i++){let e=Math.abs(i-r),s=n-(a-t/2);s>=0&&s<=t&&e<=(t-s)*.5&&(l[n][i]=1)}return l}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Array.from({length:e},()=>Array(e).fill(0)),n=e/2-(r-1)*l/2;for(let i=0;i<r;i++){let r=n+i*l;for(let l=Math.floor(r-t/2);l<=Math.floor(r+t/2);l++)if(l>=0&&l<e)for(let t=0;t<e;t++)a[l][t]=1}return a}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e/4,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e/3,r=Array.from({length:e},()=>Array(e).fill(0)),a=e/2,n=e/2;for(let i=0;i<e;i++)for(let s=0;s<e;s++){let e=s-a,o=i-n,u=Math.sqrt(e*e+o*o);u>=t&&u<=l&&(r[i][s]=1)}return r}function f(e){let t=e.length,l=Array.from({length:t},()=>Array(t).fill(0));for(let r=0;r<t;r++)for(let a=0;a<t;a++){let n=0,i=0;for(let l=0;l<t;l++)for(let s=0;s<t;s++){let o=-2*Math.PI*(((a-t/2)*s+(r-t/2)*l)/t),u=e[l][s];n+=u*Math.cos(o),i+=u*Math.sin(o)}l[r][a]=n*n+i*i}return l}function m(e){let{data:t,isAperture:l,animate:n}=e,i=(0,a.useRef)(null),[s,o]=(0,a.useState)(0);(0,a.useEffect)(()=>{if(!i.current||l)return;let e=i.current.getContext("2d"),r=t.length,a=r/2,u=r/2,d=Math.max(...t.flat());console.log(l?"aperture max:":"pattern max:",d);let c=r/2*Math.sqrt(2),h=i=>{e.clearRect(0,0,r,r),l&&(e.fillStyle="black",e.fillRect(0,0,r,r));let s=e.createImageData(r,r);for(let e=0;e<r;e++)for(let o=0;o<r;o++){let h=Math.sqrt((o-a)**2+(e-u)**2)/c;if(!n||h<=i){let a=(e*r+o)*4,n=Math.floor(255*(l?t[e][o]:Math.log(1+t[e][o])/Math.log(1+d)));l?(s.data[a]=n,s.data[a+1]=n,s.data[a+2]=n):(s.data[a]=n,s.data[a+1]=0,s.data[a+2]=0),s.data[a+3]=255}}e.putImageData(s,0,0)};if(n){let e,t=l=>{e||(e=l),h((l-e)/8e3%1),o(requestAnimationFrame(t))};o(requestAnimationFrame(t))}else h(1);return()=>{s&&cancelAnimationFrame(s)}},[t,l,n]);let u=l?"200px":"512px";return(0,r.jsx)("canvas",{ref:i,width:64,height:64,style:{width:u,height:u,border:"1px solid black"}})}var x=l(5575);let g=l.n(x)()(()=>Promise.all([l.e(295),l.e(388),l.e(367),l.e(754),l.e(785)]).then(l.bind(l,785)),{loadableGenerated:{webpack:()=>[785]},ssr:!1});function b(){let[e,t]=(0,a.useState)(null),[l,x]=(0,a.useState)(null),[b,p]=(0,a.useState)("smiley"),[j,v]=(0,a.useState)(10),[y,S]=(0,a.useState)(25),[N,A]=(0,a.useState)(!1),[w,M]=(0,a.useState)(!1),[_,P]=(0,a.useState)(null),[k,C]=(0,a.useState)(null),[O,D]=(0,a.useState)("doubleSlit"),[q,E]=(0,a.useState)(10),[T,L]=(0,a.useState)(25),[R,F]=(0,a.useState)(!1),[I,G]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{A(!0),setTimeout(()=>{let e;x(e="doubleSlit"===b?n(64,j,y):"smiley"===b?i(64):"singleSlit"===b?s(64,j):"circle"===b?o(64):"square"===b?u(64):"triangle"===b?d(64):"grating"===b?c(64):"annulus"===b?h(64):n(64,j,y)),t(f(e)),A(!1)},100)},[b,j,y]),(0,a.useEffect)(()=>{w&&(F(!0),setTimeout(()=>{let e;C(e="doubleSlit"===O?n(64,q,T):"smiley"===O?i(64):"singleSlit"===O?s(64,q):"circle"===O?o(64):"square"===O?u(64):"triangle"===O?d(64):"grating"===O?c(64):"annulus"===O?h(64):n(64,q,T)),P(f(e)),F(!1)},100))},[w,O,q,T]),(0,r.jsxs)("section",{className:"max-w-6xl mx-auto px-6 py-20",children:[(0,r.jsxs)("div",{className:"mb-12 text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-semibold tracking-tight text-white mb-4",children:"Diffraction Visualiser"}),(0,r.jsx)("p",{className:"text-xl text-neutral-400 max-w-3xl mx-auto",children:"Light propagation through apertures: Watch how light fills the space after passing through different shapes."})]}),(0,r.jsxs)("div",{className:"space-y-8",children:[l&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"3D Volumetric Propagation"}),(0,r.jsx)("div",{className:"bg-neutral-900/50 rounded-xl p-6 border border-neutral-800",children:(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"text-white",children:"Loading 3D..."}),children:(0,r.jsx)(g,{aperture:l})})})]}),(0,r.jsx)("div",{className:"border-t border-neutral-800 pt-12",children:(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-neutral-400",children:"2D Cross-Section Analysis"})}),(0,r.jsxs)("div",{className:"bg-neutral-900/50 rounded-xl p-6 border border-neutral-800",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 items-center mb-6",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:w,onChange:e=>M(e.target.checked),className:"rounded"}),"Compare Mode"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"Aperture Shape:"}),(0,r.jsxs)("select",{value:b,onChange:e=>p(e.target.value),className:"bg-neutral-800 border border-neutral-700 rounded px-3 py-1 text-white",children:[(0,r.jsx)("option",{value:"smiley",children:"Smiley Face"}),(0,r.jsx)("option",{value:"doubleSlit",children:"Double Slit"}),(0,r.jsx)("option",{value:"singleSlit",children:"Single Slit"}),(0,r.jsx)("option",{value:"circle",children:"Circle"}),(0,r.jsx)("option",{value:"square",children:"Square"}),(0,r.jsx)("option",{value:"triangle",children:"Triangle"}),(0,r.jsx)("option",{value:"grating",children:"Grating"}),(0,r.jsx)("option",{value:"annulus",children:"Annulus"})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:I,onChange:e=>G(e.target.checked),className:"rounded"}),"Animate Propagation"]})]}),"doubleSlit"===b&&(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Slit Width: ",j]}),(0,r.jsx)("input",{type:"range",min:"1",max:"20",value:j,onChange:e=>v(Number(e.target.value)),className:"w-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Slit Separation: ",y]}),(0,r.jsx)("input",{type:"range",min:"10",max:"40",value:y,onChange:e=>S(Number(e.target.value)),className:"w-full"})]})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[l&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Aperture"}),(0,r.jsx)("div",{className:"bg-neutral-800 rounded-lg p-4",children:(0,r.jsx)(m,{data:l,isAperture:!0,animate:!1})})]}),e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Diffraction Pattern"}),(0,r.jsx)("div",{className:"bg-neutral-800 rounded-lg p-4",children:(0,r.jsx)(m,{data:e,isAperture:!1,animate:I})})]})]})]}),w&&(0,r.jsxs)("div",{className:"bg-neutral-900/50 rounded-xl p-6 border border-neutral-800",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Compare Mode - Second Aperture"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-4 items-center mb-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"Shape:"}),(0,r.jsxs)("select",{value:O,onChange:e=>D(e.target.value),className:"bg-neutral-800 border border-neutral-700 rounded px-3 py-1 text-white",children:[(0,r.jsx)("option",{value:"smiley",children:"Smiley Face"}),(0,r.jsx)("option",{value:"doubleSlit",children:"Double Slit"}),(0,r.jsx)("option",{value:"singleSlit",children:"Single Slit"}),(0,r.jsx)("option",{value:"circle",children:"Circle"}),(0,r.jsx)("option",{value:"square",children:"Square"}),(0,r.jsx)("option",{value:"triangle",children:"Triangle"}),(0,r.jsx)("option",{value:"grating",children:"Grating"}),(0,r.jsx)("option",{value:"annulus",children:"Annulus"})]})]})}),"doubleSlit"===O&&(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Slit Width: ",q]}),(0,r.jsx)("input",{type:"range",min:"1",max:"20",value:q,onChange:e=>E(Number(e.target.value)),className:"w-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Slit Separation: ",T]}),(0,r.jsx)("input",{type:"range",min:"10",max:"40",value:T,onChange:e=>L(Number(e.target.value)),className:"w-full"})]})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[k&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Aperture 2"}),(0,r.jsx)("div",{className:"bg-neutral-800 rounded-lg p-4",children:(0,r.jsx)(m,{data:k,isAperture:!0,animate:!1})})]}),_&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Diffraction Pattern 2"}),(0,r.jsx)("div",{className:"bg-neutral-800 rounded-lg p-4",children:(0,r.jsx)(m,{data:_,isAperture:!1,animate:I})})]})]})]})]})]})}},9113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{bindSnapshot:function(){return i},createAsyncLocalStorage:function(){return n},createSnapshot:function(){return s}});let l=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw l}getStore(){}run(){throw l}exit(){throw l}enterWith(){throw l}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function n(){return a?new a:new r}function i(e){return a?a.bind(e):r.bind(e)}function s(){return a?a.snapshot():function(e,...t){return e(...t)}}}},e=>{e.O(0,[587,18,358],()=>e(e.s=3314)),_N_E=e.O()}]);